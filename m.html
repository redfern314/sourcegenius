<head>
  <title>SourceGenius</title>
</head>

<body>
    <div class="container">
      <div class="row">
        <div class="col-md-8 col-md-offset-2">
			<header>
				<div class="row">
				    <div class="col-md-12">
				        <ul class="actions">
				            <li><a href="/new"><span class="glyphicon glyphicon-plus"></span></a></li>
				            <li class="user">
				            	{{> user }}
				            </li>
				        </ul>
				    </div>
				</div>
			</header>

			<div class="wrapper">

			{{ renderPage }}
				
			</div>

          	<footer>
          	</footer>
      	</div>
    </div>
</body>


<template name="user">
    <div id="user">
        {{#if loggedIn }}
            <img id="propic" alt="Click to sign out" height="50" width="50" src={{ URL }}>
        {{ else }}
            <a href="#">sign In</a>
        {{/if }}
    </div>
</template>

<template name="hello">
    <h1>Hello World!</h1>
    {{greeting}}
    {{loginButtons}}
</template>

<template name="newFile">
    <div class="row newFile">
    	<div class="col-md-12">
            <div class="text-container">
                <textarea width='500' class="language-any"></textarea>
                <div class="function save enabled" id='submit-new-file'></div>
            </div>
    	</div>
    </div>
</template>

<template name="annotations">
  <div class='info'>
    {{#each annos}}
      {{#isolate}}
        {{> annotation }}
      {{/isolate}}
    {{/each}}
  </div>
  <textarea id='annotation' placeholder='Your comment here!'></textarea>
</template>

<template name="annotation">
    <div class="annotation">
      <div class="content row">
          <div class="col-md-12">
              {{ text  }}      
          </div>
      </div>
      <div class="author row">
          <div class="photo col-md-4">
              <img src="http://placekitten.com/75/75" alt="">
          </div>
          <div class="info col-md-8">
              <h3 class="handle">{{ author.services.github.username }}</h3>
          </div>
      </div>
  </div>
</template>

<template name="show">
	<div class="row">
    <div class="col-md-12 code-container">
        <div class="snippet">
            {{#each splitLines}}
                <div class="line" data-id="{{this.index}}">
                    <pre><code class='language-{{this.language}}'>{{this.text}}</code></pre>
                </div>
            {{/each}}
        </div>
    </div>
    <div class='annotations' style='display:none;'>
      {{> annotations}}
    </div>
	</div>
</template>

<template name="signIn">
	{{ loginButtons }}
</template>

<template name="sources">
  {{#if viewing }}
    {{> currentSource viewing }}
  {{ else }}
    <div id="your-sources">
      {{#each userSources}}
        {{> userSourceTemplate }}
      {{/each}}
     </div>
    <div id="shared-with-you">
      {{#each sharedSources }}
        {{> sharedSourceTemplate }}
      {{/each }}
    </div>
    {{> newSource}}
  {{/if }}
</template>

<template name="userSourceTemplate">
</template>

<template name="sharedSourceTemplate">
</template>

<template name="currentSource">
</template>
